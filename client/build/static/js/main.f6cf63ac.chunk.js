(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/si-glyph-picture.09095294.svg"},15:function(e,t,a){e.exports=a.p+"static/media/add-photo-icon.def6bc0a.svg"},20:function(e,t,a){e.exports=a.p+"static/media/prev-next_icon.f75a9a41.svg"},24:function(e,t,a){e.exports=a.p+"static/media/category__icon-back.6da81cde.svg"},25:function(e,t,a){e.exports=a.p+"static/media/close-icon.9466bef8.svg"},27:function(e,t,a){e.exports=a.p+"static/media/add-icon.b24d2002.svg"},29:function(e,t,a){e.exports=a.p+"static/media/add-category-plus-symbol.a33eb8cf.svg"},32:function(e,t,a){e.exports=a(53)},51:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),c=a.n(r),l=a(5),s=a(6),i=a(8),m=a(7),p=a(9),h=a(2),d=a(55),u=a(24),g=a.n(u),f=function(e){return e.subCategory?o.a.createElement("div",{className:"container"},o.a.createElement("header",{className:"header text-uppercase"},o.a.createElement("h1",{className:"header-text--big"},"Fotogal\xe9ria"),o.a.createElement("nav",{className:"nav"},o.a.createElement(d.a,{to:{pathname:"/gallery"},className:"d-inline mt-5"},o.a.createElement("h2",{className:"header-text--small "},o.a.createElement("img",{className:"mr-5",src:g.a,alt:"Dozadu"}),e.sliced))),o.a.createElement("hr",{className:"horizontal-line"}))):o.a.createElement("div",{className:"container "},o.a.createElement("header",{className:"header text-uppercase"},o.a.createElement("h1",{className:"header-text--big"},"Fotogal\xe9ria"),o.a.createElement("nav",{className:"nav mt-5"},o.a.createElement("h2",{className:"header-text--small"},"Kateg\xf3rie")),o.a.createElement("hr",{className:"horizontal-line"})))},v=function(e){return["background"].push("show"),o.a.createElement("div",{className:"header-background--edge-fix position-absolute"},o.a.createElement("div",{className:"header-background",style:e.change?{backgroundImage:"url('"+e.change+"')"}:{backgroundColor:"black"}}))},b=a(12),y=a.n(b),E=a(59),k={protocol:"http://",hostname:"localhost",port:":5000",root_dir:"/gallery/"},x=a(25),N=a.n(x),_=function(e){switch(e){case"category":return"position-relative btn__close cat";case"photo":return"position-relative btn__close photo";default:return"position-relative btn__close"}},O=function(e){return o.a.createElement("button",{type:"button",className:_(e.type),"aria-label":"Close"},o.a.createElement(d.a,{to:{pathname:"/gallery"},className:"d-flex"},o.a.createElement("img",{src:N.a,className:"w-50 mr-3",alt:"Close"}),o.a.createElement("span",{className:"text-uppercase btn__close--text","aria-hidden":"true"},"Zavrie\u0165")))},j=a(31),w=a(14),C=a.n(w),S=a(15),M=a.n(S),D=function(e){var t;return o.a.createElement("form",{className:"p-4 h-100 w-100",id:"upload",action:"/gallery/",encType:"multipart/form-data"},o.a.createElement("div",{className:"form-group d-flex flex-column h-100 w-100  popup__text "},o.a.createElement("label",{id:"ImageAdd",htmlFor:"ImageAdd",className:"w-100"},"Prida\u0165 fotky"),o.a.createElement(j.a,{ref:function(e){t=e},className:e.state.dropzoneActive?"dropzone--active":"dropzone",onDrop:e.onDrop,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave},e.state.files.map(function(e){return o.a.createElement("img",{className:"glyph-picture w-25 h-25",src:C.a,key:e.name,alt:"vlo\u017een\xe1 fotka"})}),0===e.state.files.length&&o.a.createElement("div",{className:"d-flex flex-column w-100 h-100 justify-content-center"},o.a.createElement("img",{className:"plus__symbol",src:M.a,alt:""}),o.a.createElement("h4",{className:"item__title mx-auto dropzone__h4 mt-4"},"Sem presu\u0148te fotky"),o.a.createElement("p",{className:"dropzone__p mx-auto text-lowercase"},"alebo"),o.a.createElement("button",{type:"file",name:"file",onClick:function(e){t.open(),e.preventDefault(),e.stopPropagation()},className:"dropzone__btn__choose dropzone__btn__choose--text mx-auto w-50 p-2 mt-3"},"Vyberte s\xfabory")))),e.children)},I=a(27),z=a.n(I),R=function(e){var t=["btn__add btn__add__text position-relative text-uppercase"];return"category"===e.type?t.push("cat"):t.push("photo"),o.a.createElement(E.a,{forceRefresh:!0},o.a.createElement("button",{type:"submit",value:"Submit",className:t.join(" ")},o.a.createElement(d.a,{to:"/gallery/"+e.category,onClick:function(t){e.handleCategory?e.handleCategory():e.handleUploadImage()},className:"d-flex p-3"},o.a.createElement("img",{src:z.a,className:"mr-2",alt:"Add"}),"Prida\u0165")))},H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={dropzoneActive:!1,files:[]},a.onDrop=a.onDrop.bind(Object(h.a)(Object(h.a)(a))),a.onDragEnter=a.onDragEnter.bind(Object(h.a)(Object(h.a)(a))),a.onDragLeave=a.onDragLeave.bind(Object(h.a)(Object(h.a)(a))),a.handleUploadImage=a.handleUploadImage.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onDrop",value:function(e){var t=this.state.files.concat(e);this.setState({files:t})}},{key:"onDragEnter",value:function(){this.setState({dropzoneActive:!0})}},{key:"onDragLeave",value:function(){this.setState({dropzoneActive:!1})}},{key:"handleUploadImage",value:function(){var e=this.props.match.params.category,t=new FormData;this.state.files.map(function(e){return t.append("files",e)});var a=k.protocol+k.hostname+k.port+k.root_dir+e;this.state.files.length>0?fetch(a,{method:"POST",mode:"no-cors",body:t}).catch(function(e){return console.log("Something bad happened",e)}):alert("Vyber obrazok pre pridanie")}},{key:"render",value:function(){var e=this.props.match.params.category;return o.a.createElement("div",{className:"row  no-gutters  w-100 h-100 justify-content-center "},o.a.createElement("div",{className:"col-4 h-50 p-4 align-self-center popup  text-uppercase"},o.a.createElement(O,{type:"photo"}),o.a.createElement(D,{state:this.state,onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,handleUploadImage:this.handleUploadImage},o.a.createElement(R,{handleUploadImage:this.handleUploadImage,category:e}))))}}]),t}(o.a.Component),P=function(e){return o.a.createElement("form",{className:"p-4 pb-5 h-20",action:"/gallery",encType:"application/json"},o.a.createElement("div",{className:"form-group d-flex flex-column col-9  col-sm-12 popup__text "},o.a.createElement("label",{htmlFor:"categoryForm",className:"w-100"},"Prida\u0165 kateg\xf3riu"),o.a.createElement("input",{type:"text",onChange:e.onChange,className:"form-control text-uppercase popup__input",id:"CategoryControlInput1",placeholder:"Zadajte n\xe1zov kateg\xf3rie"})),o.a.createElement("hr",{className:"horizontal-line-form"}))},A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={category:""},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleCategory=a.handleCategory.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState({category:e.target.value})}},{key:"handleCategory",value:function(){var e=this.state.category;void 0!==e?fetch(k.protocol+k.hostname+k.port+k.root_dir,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})}).catch(function(e){return console.log("Something bad happened",e)}):alert("Zadajte n\xe1zov kateg\xf3rie")}},{key:"render",value:function(){return o.a.createElement("div",{className:"col-4  h-20 align-self-center popup  text-uppercase"},o.a.createElement(O,{type:"category"}),o.a.createElement(P,{onChange:this.handleChange}),o.a.createElement(R,{type:"category",handleCategory:this.handleCategory}))}}]),t}(o.a.Component),L=a(29),q=a.n(L),F=function(e){return o.a.createElement(E.a,{forceRefresh:!1},o.a.createElement("div",{className:"item col-3  text-uppercase mr-lg-3 mr-sm-5 offset-xl-1"},o.a.createElement(d.a,{className:"d-block item__link",to:"photo"===e.type?e.match.url:"/gallery/",onClick:function(){e.openModal()}},o.a.createElement("img",{className:"item__add--category",src:"photo"===e.type?M.a:q.a,alt:""}),o.a.createElement("h4",{className:"item__add--text"},e.text)),o.a.createElement(y.a,{isOpen:e.state.showModal,onLoad:e.openModal,ariaHideApp:!0,contentLabel:e.text,overlayClassName:"overlay",className:"row  no-gutters  h-100 justify-content-center "},"photo"===e.type&&o.a.createElement(H,{match:e.match}),"category"===e.type&&o.a.createElement(A,null))))};y.a.setAppElement("#root");var U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={showModal:!1},a.openModal=a.openModal.bind(Object(h.a)(Object(h.a)(a))),a.closeModal=a.closeModal.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){!0===this.props.showModal&&this.setState({showModal:!0})}},{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){return this.props.subCategory?o.a.createElement(F,{text:"Prida\u0165 fotku",state:this.state,openModal:this.openModal,type:"photo",match:this.props.match}):o.a.createElement(F,{text:"Prida\u0165 kateg\xf3riu",state:this.state,openModal:this.openModal,type:"category",match:this.props.match})}}]),t}(o.a.Component),T=a(56),W=Object(T.a)(function(e){return o.a.createElement("div",{className:"item col-3  text-uppercase  "},o.a.createElement(d.a,{className:"d-block item__link",to:e.match.url+"/"+e.category},o.a.createElement("img",{className:"item__add--category item__add--category-opacity",src:C.a,alt:"kateg\xf3ria"}),o.a.createElement("h4",{className:"item__add--text"},"Nebola vlo\u017eena fotka")))}),J=function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("main",null,o.a.createElement("div",{className:"row no-gutters align-items-start text-center"},e.data.map(function(t,a){return void 0!==t.image&&void 0!==t.image[0]?o.a.createElement("div",{className:"item col-3  text-uppercase ",key:a,onMouseEnter:e.handleHover,onClick:e.handleClick},o.a.createElement(d.a,{className:"d-block item__link",to:{pathname:e.match.url+"/"+t.name}},o.a.createElement("figure",null,o.a.createElement("img",{className:"figure-img rounded",src:"/gallery/"+t.image[0].fullpath,alt:""}),o.a.createElement("figcaption",{className:"figure-caption mt-2"},o.a.createElement("h3",{className:"item__title"},t.name),o.a.createElement("p",{className:"item__description pt-1 pt-lg-0 pt-sm-0 text-lowercase"},e.itemDescription(t.image.length)))))):o.a.createElement(W,{idx:a,category:t.name})}),e.children)))},Z=a(20),B=a.n(Z),V=function(e){return o.a.createElement(E.a,{forceRefresh:!1},o.a.createElement("div",{className:"lightbox__btn-arrows__box position-absolute"},o.a.createElement("button",{type:"button",className:"lightbox__btn-arrows left","aria-label":"Previous image"},o.a.createElement(d.a,{to:{pathname:"/gallery/"+e.prevSrc},onClick:function(){e.onMovePrevRequest()}},o.a.createElement("img",{src:B.a,alt:"Predchadzajuci obr\xe1zok"}))),o.a.createElement("button",{type:"button",className:"lightbox__btn-arrows right","aria-label":"Next image"},o.a.createElement(d.a,{to:{pathname:"/gallery/"+e.nextSrc},onClick:function(){e.onMoveNextRequest()}},o.a.createElement("img",{src:B.a,alt:"Nasleduj\xfaci obr\xe1zok"})))))},K=function(e){var t=e.mainSrc,a=e.prevSrc,n=e.nextSrc,r=e.onMovePrevRequest,c=e.onMoveNextRequest;return o.a.createElement(y.a,{isOpen:!0,ariaHideApp:!1,shouldCloseOnOverlayClick:!1,contentLabel:"Lightbox",overlayClassName:"overlay",className:"row no-gutters h-100 justify-content-center"},o.a.createElement("div",{id:"Lightbox",className:"d-flex justify-content-center"},o.a.createElement("div",{className:"lightbox col-8  mx-3 align-self-center   position-relative"},o.a.createElement(E.a,{forceRefresh:!0},o.a.createElement(O,null)),o.a.createElement("img",{className:"img-fluid w-100",src:"/gallery/"+t,alt:"fotka"}),a!==n?o.a.createElement(V,{prevSrc:a,nextSrc:n,onMovePrevRequest:r,onMoveNextRequest:c}):"")))},Q=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.photoIndex,n=t.pathname;return o.a.createElement(E.a,{forceRefresh:!1},o.a.createElement("div",{className:"container"},o.a.createElement("main",null,o.a.createElement("div",{className:"row no-gutters align-items-start text-center"},this.props.data.map(function(t){return t.image.map(function(t,a){return o.a.createElement("div",{key:a,className:"item  item--picture col-3 text-uppercase","data-id":e.props.idx,onMouseOver:e.props.handleHover},o.a.createElement(d.a,{className:"d-block item__link loading",to:{pathname:""+"".concat("/gallery/"+t.fullpath)},onClick:function(t){t.preventDefault(),e.props.handleOpen(),e.props.handleIdx(a)}},o.a.createElement("img",{src:""+"".concat("/gallery/"+t.fullpath),className:"rounded mb-0 h-100  b-lazy",alt:t.name})))})}),this.props.children)),this.props.isOpen&&o.a.createElement(K,{pathname:n,mainSrc:this.props.data[0].image[a].fullpath,nextSrc:this.props.data[0].image[(a+1)%this.props.data[0].image.length].fullpath,prevSrc:this.props.data[0].image[(a+this.props.data[0].image.length-1)%this.props.data[0].image.length].fullpath,onMovePrevRequest:this.props.onMovePrevRequest,onMoveNextRequest:this.props.onMoveNextRequest})))}}]),t}(n.Component);y.a.setAppElement("#root");var $=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isOpen:!1,photoIndex:0},a.handleOpen=a.handleOpen.bind(Object(h.a)(Object(h.a)(a))),a.handleIdx=a.handleIdx.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleIdx",value:function(e){this.setState({photoIndex:e})}},{key:"handleOpen",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleHover,n=t.handleClick,r=t.data,c=t.match,l=this.state,s=l.photoIndex,i=l.isOpen;return this.props.description?o.a.createElement(Q,{match:c,data:r,handleHover:a,handleClick:n,handleIdx:this.handleIdx,handleOpen:this.handleOpen,photoIndex:s,isOpen:i,onMovePrevRequest:function(){return e.setState({photoIndex:(s+e.props.data[0].image.length-1)%e.props.data[0].image.length})},onMoveNextRequest:function(){return e.setState({photoIndex:(s+1)%e.props.data[0].image.length})}},o.a.createElement(U,{subCategory:!0,match:c})):o.a.createElement("div",null,o.a.createElement(J,{match:c,data:this.props.data,handleHover:a,handleClick:n,itemDescription:function(e){var t=Number.isInteger(e)?e:"";switch(t){case 1:return"1 fotka";case 2:return"2 fotky";default:return t+" fotiek"}}},o.a.createElement(U,{match:c})))}}]),t}(o.a.Component),G=function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("footer",{className:"footer__detail m-5"},"webdesign bart.sk")))},X=a(47),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={categories:[],images:[],backgroundChange:"",isFetching:!1},a.handleHover=a.handleHover.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.url;"/gallery"===t?fetch(t).then(function(e){return e.json()}).then(function(t){null!==t.gallery[0].image[0].fullpath&&e.setState({categories:t.gallery,backgroundChange:k.root_dir+t.gallery[0].image[0].fullpath,isFetching:!0})}).catch(function(e){return console.log("Something bad happened",e)}):this.props.match.params.category&&fetch(this.props.match.params.category).then(function(e){return e.json()}).then(function(t){null!==t.gallery[0].image[0].fullpath&&e.setState({images:t.gallery,backgroundChange:k.root_dir+t.gallery[0].image[0].fullpath,isFetching:!0})}).catch(function(t){console.log("Something bad happened",t),e.setState({isFetching:!0})})}},{key:"handleHover",value:function(e){var t;if(e.persist(),void 0===this.props.images){if(null===e.target.getAttribute("src"))return"";t=e.target.getAttribute("src")}else t=this.props.images[0].fullpath;void 0!==t&&this.setState({backgroundChange:t})}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.isFetching,n=this.props.match.url.split("/")[2];return 0===t.length&&0!==this.state.categories.length&&void 0!==this.props.location.key&&a?o.a.createElement("div",null,o.a.createElement(v,{change:this.state.backgroundChange}),o.a.createElement(f,{subCategory:!1}),o.a.createElement($,{key:this.props.location.key,match:this.props.match,description:!1,data:this.state.categories,handleHover:this.handleHover},o.a.createElement(U,{subCategory:!0,handleHover:!1,match:this.props.match})),o.a.createElement(G,null)):a?o.a.createElement("div",null,o.a.createElement(v,{change:this.state.backgroundChange}),o.a.createElement(f,{subCategory:!0,sliced:n}),o.a.createElement($,{key:this.props.location.key,match:this.props.match,description:!0,data:t,handleHover:this.handleHover},o.a.createElement(U,{subCategory:!1,data:this.state,match:this.props.match,handleHover:!1})),o.a.createElement(G,null)):""}}]),t}(n.Component),ee=Object(X.a)(Y),te=a(58),ae=a(57),ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(49),a(51);c.a.render(o.a.createElement(E.a,null,o.a.createElement("div",null,o.a.createElement(te.a,{from:"/gallery/",to:"/gallery"}),o.a.createElement(ae.a,{exact:!0,path:"/gallery",render:function(e){return o.a.createElement(ee,Object.assign({key:e.location.key},e))}}),o.a.createElement(ae.a,{exact:!0,path:"/gallery/:category",render:function(e){return o.a.createElement(ee,e)}}))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");ne?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):oe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):oe(e)})}}()}},[[32,2,1]]]);
//# sourceMappingURL=main.f6cf63ac.chunk.js.map